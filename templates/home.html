{% extends 'layout.html' %}
{% block mainBody %}

<div class="py-3 my-2">

    <div class="col-md-6">
        {% with error_messages = get_flashed_messages(category_filter=["error"]) %}
            {% if error_messages %}
                {% for message in error_messages %}
                    <div class="alert alert-danger" role="alert">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        {% with success_messages = get_flashed_messages(category_filter=["success"]) %}
            {% if success_messages %}
                {% for message in success_messages %}
                    <div class="alert alert-success" role="alert">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
    </div>

    <div class="row g-2 align-items-center">
        <div class="col-md-6">
            <div class="p-3">
                <img src="../static/svg/Home.svg" alt="Dashboard GIF" draggable="false">
            </div>
        </div>

        <div class="col-md-6">
            <div class="p-3 d-flex justify-content-center text-center">
                <h1 class="fw-bold" style="line-height: 1.5em; font-size: 52px; font-family:Georgia, 'Times New Roman', Times, serif">Effortless Genotype <br> Coding for <br> AICRP Research</h1>
            </div>
        </div>
    </div>

    <div class="px-4 pt-5 my-5 text-center border-bottom">
        <h1 class="display-4 fw-bold text-body-emphasis">Random Code Generator</h1>
        <div class="col-lg-6 mx-auto">
            <p class="lead mb-4" style="text-align: justify;">A random code generator streamlines the impartial coding of genotypes/entries for AICRP coordinated trials. It efficiently generates codes and labels for seed packets, reducing time investment and eliminating bias. The generated data can be exported as pdf documents, and the software also maintains a comprehensive trial database containing pedigree, source center, and year of inclusion for convenient retrieval and analysis and preserves the data for posterity.</p>
            <div class="d-grid gap-2 d-sm-flex justify-content-sm-center mb-5">
                {% if not session["twoFactorAuthentication"] %}
                    <a class="btn btn-primary border-0 btn-lg px-4 me-sm-3" role="button" data-bs-toggle="modal" data-bs-target="#twoFactorAuthentication">Random Code Generator</a>
                {% else %}
                    <a class="btn btn-primary border-0 btn-lg px-4 me-sm-3" role="button" href="/random-code-generator">Random Code Generator</a>
                {% endif %}
            </div>
        </div>
        <div class="overflow-hidden" style="max-height: 30vh;">
            <div class="container px-5">
                <img src="../static/svg/Excel.svg" class="img-fluid border rounded-3 shadow-lg mb-4" alt="Example image" width="700" height="500" loading="lazy">
            </div>
        </div>
    </div>

    

    <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
        <div class="col-10 col-sm-8 col-lg-6">
            <img src="../static/svg/Admin_Home.svg" class="d-block mx-lg-auto img-fluid" alt="Bootstrap Themes" width="700" height="500" loading="lazy">
        </div>
        <div class="col-lg-6">
            <h1 class="display-5 fw-bold text-body-emphasis lh-1 mb-3">Admin Panel</h1>
            <p class="lead" style="text-align: justify;">It enables administrators to manage user accounts, including creating new users and resetting passwords. It also allows for the configuration and oversight of crops, ecosystems, trials, zones, and seasons.</p>
            <div class="d-grid gap-2 d-md-flex justify-content-md-start">
                <a type="button" class="btn btn-primary btn-lg px-4 fw-bold" href="/admin-home">Admin Home</a>
            </div>
        </div>
    </div>

    <div class="row p-4 pb-0 pe-lg-0 pt-lg-5 align-items-center rounded-3 border">
        <div class="col-lg-7 p-3 p-lg-5 pt-lg-3">
            <h1 class="display-4 fw-bold lh-1 text-body-emphasis">Query Dashboard</h1>
            <p class="lead" style="text-align: justify;">Users can query based on the year, entries, pedigree, checks, year and trial, centre wise contribution etc., of previous years can be retrieved within no time.</p>
            <div class="d-grid gap-2 d-md-flex justify-content-md-start mb-4 mb-lg-3">
                <a type="button" class="btn btn-primary btn-lg px-4 me-md-2 fw-bold" href="/dashboard">Dashboard</a>
            </div>
        </div>
        <div class="col-lg-4 offset-lg-1 p-0 overflow-hidden shadow">
                <img class="rounded-lg-3" src="../static/svg/Dashboard_Home.svg" alt="" width="720">
        </div>
    </div>

</div>

<!-- Two Facto Authentication Modal -->
<div class="modal fade" id="twoFactorAuthentication" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content rounded-4 shadow">
            <div class="modal-header p-5 pb-4 border-bottom-0">
                <h1 class="fw-bold mb-0 fs-2">Two Factor Authentication</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            
            <div class="modal-body p-5 pt-0">
                <form action="/two-factor-authentication" method="post">
                    <div class="form-floating mb-3">
                        <input type="password" class="form-control rounded-3" id="directorPassword" name="directorPassword" placeholder="Director Password" required>
                        <label for="directorPassword">Director Password</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="password" class="form-control rounded-3" id="headOfCropImprovementPassword" name="headOfCropImprovementPassword" placeholder="Crop Improvement, Head Password" required>
                        <label for="headOfCropImprovementPassword">Crop Improvement, Head Password</label>
                    </div>
                    <button class="w-100 mb-2 btn btn-lg rounded-3 btn-primary" type="submit">Submit</button>
                    <hr class="my-4">
                    <small class="text-body-secondary">Reviewing the terms of use is necessary before updating the data.</small>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock mainBody %}